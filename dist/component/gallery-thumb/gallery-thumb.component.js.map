{"version":3,"sources":["../../inlined/component/gallery-thumb/gallery-thumb.component.ts"],"names":[],"mappings":"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","file":"gallery-thumb.component.js","sourceRoot":"","sourcesContent":["import {\n  Component, Input, ChangeDetectionStrategy, ElementRef, Renderer2, OnInit\n} from '@angular/core';\nimport { GalleryService } from '../../service/gallery.service';\nimport { GalleryState } from '../../service/gallery.state';\nimport { GalleryThumbConfig } from '../../config';\n\ndeclare const Hammer: any;\n\n\nexport class GalleryThumbComponent implements OnInit {\n\n   state: GalleryState;\n   config: GalleryThumbConfig;\n\n  contStyle;\n\n  constructor(public gallery: GalleryService, private el: ElementRef, private renderer: Renderer2) {\n\n  }\n\n  ngOnInit() {\n\n    this.contStyle = this.getContainerStyle();\n\n    /** Enable gestures */\n    if (this.gallery.config.gestures) {\n      if (typeof Hammer === 'undefined') {\n\n        throw Error('[NgGallery]: HammerJS is undefined, make sure it is loaded');\n      } else {\n        const el = this.el.nativeElement;\n        const mc = new Hammer(el);\n\n        mc.on('panstart', () => {\n          this.renderer.removeClass(el, 'g-pan-reset');\n        });\n        mc.on('panend', () => {\n          this.renderer.addClass(el, 'g-pan-reset');\n        });\n\n        /** Pan left and right */\n        mc.on('pan', (e) => {\n          this.renderer.setStyle(el, 'transform', `translate3d(${e.deltaX}px, 0px, 0px)`);\n        });\n        /** Swipe next and prev */\n        mc.on('swipeleft', () => {\n          this.gallery.next();\n        });\n        mc.on('swiperight', () => {\n          this.gallery.prev();\n        });\n      }\n    }\n  }\n\n  translateThumbs() {\n    const x = this.state.currIndex * this.config.width + this.config.width / 2;\n    return `translate3d(${-x}px, 0, 0)`;\n  }\n\n  getContainerStyle() {\n    /** Set thumbnails position (top, bottom) */\n    const order = this.config.position === 'top' ? 0 : 2;\n    this.renderer.setStyle(this.el.nativeElement, 'order', order);\n\n    return {\n      height: this.config.height + 'px',\n      margin: this.config.space + 'px'\n    };\n  }\n\n  getThumbImage(i) {\n    /** Use thumbnail if presented */\n    return `url(${this.state.images[i].thumbnail || this.state.images[i].src})`;\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-thumb',\n  template: \"\\n    <div #container class=\\\"g-thumb-container\\\" [ngStyle]=\\\"contStyle\\\">\\n\\n      <div class=\\\"g-thumbs\\\" [style.transform]=\\\"translateThumbs()\\\">\\n\\n        <div class=\\\"g-thumb\\\" *ngFor=\\\"let image of state.images; let i = index\\\"\\n             [class.g-thumb-current]=\\\"i === state.currIndex\\\"\\n             [style.width.px]=\\\"gallery.config.thumbnails.width\\\"\\n             [style.height.px]=\\\"gallery.config.thumbnails.height\\\">\\n\\n          <div class=\\\"g-thumb-image\\\" [style.backgroundImage]=\\\"getThumbImage(i)\\\"\\n               [tap] (tapClick)=\\\"gallery.set(i)\\\">\\n          </div>\\n        </div>\\n\\n      </div>\\n\\n    </div>\\n  \",\n  styles: [\"\\n    :host{display:block;z-index:1}.g-thumb-container{position:relative;z-index:2;width:100%;height:100%;left:0}.g-thumb-container,.g-thumbs{top:0;display:-webkit-box;display:-ms-flexbox;display:flex}.g-thumbs{position:absolute;left:50%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;transition:-webkit-transform .3s ease-in;transition:transform .3s ease-in;transition:transform .3s ease-in,-webkit-transform .3s ease-in;-webkit-transform:translateZ(0);transform:translateZ(0)}.g-thumb{padding:8px;opacity:.5;transition:all .2s linear}.g-thumb-image{cursor:pointer;width:100%;height:100%;background-position:50%;background-size:cover;box-shadow:0 0 4px rgba(0,0,0,.3)}.g-thumb-current{opacity:1;padding:2px}\\n  \"],\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: GalleryService, },\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'state': [{ type: Input },],\n'config': [{ type: Input },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}